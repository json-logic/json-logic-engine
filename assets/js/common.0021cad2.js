"use strict";(self.webpackChunkjson_logic_engine_documentation=self.webpackChunkjson_logic_engine_documentation||[]).push([[76],{9126:(e,t,r)=>{r.d(t,{A:()=>Ge});var n=r(6540);async function i(e,t){const r=[];let n=0;for(const i of e)r.push(await t(i,n++,e));return r}const o={filter:async function(e,t){const r=[];let n=0;for(const i of e)await t(i,n++,e)&&r.push(i);return r},some:async function(e,t){let r=0;for(const n of e)if(await t(n,r++,e))return!0;return!1},every:async function(e,t){let r=0;for(const n of e)if(!await t(n,r++,e))return!1;return!0},map:i,reduce:async function(e,t,r){if(0===e.length){if(void 0!==r)return r;throw new Error("Array has no elements.")}const n=void 0===r?1:0;let i=n?e[0]:r;for(let o=n;o<e.length;o++)i=await t(i,e[o]);return i}},a=Symbol.for("json_logic_sync"),s=Symbol.for("json_logic_compiled"),c=Symbol.for("json_logic_original"),u=Symbol.for("json_logic_unfound");function l(e){return"function"==typeof e?!0===e[a]:Array.isArray(e)?e.every(l):!(e&&e.asyncMethod&&!e.method)}function f(e,t=!0){return e[a]=t,e}function d(e,t=!1){return t||Array.isArray(e)?e:[e]}const h=new WeakMap;function y(e){return e&&"function"==typeof e&&e.length?(h.has(e)||h.set(e,function(e){if(!e||"function"!=typeof e||!e.length)return 0;let t=e.toString();if("("!==t[0]&&"f"!==t[0])return 0;t=t.substring(t.indexOf("("),t.indexOf("{")).replace(/=>/g,"");return/\.{3}|=/.test(t)?0:e.length}(e)),h.get(e)):0}function p(e,...t){let r="";const n=this;for(let i=0;i<e.length;i++)r+=e[i],i<t.length&&("function"==typeof t[i]?(this.methods.push(t[i]),l(t[i])||(n.asyncDetected=!0),r+=(l(t[i])?"":" await ")+"methods["+(n.methods.length-1)+"]"):t[i]&&void 0!==t[i][s]?r+=t[i][s]:r+=b(t[i],n));return{[s]:r}}function m(e,t,r){if(Array.isArray(e))return e.every((e=>m(e,t,r)));if(e&&"object"==typeof e){const n=Object.keys(e)[0],i=e[n];if(t.isData(e,n))return!0;if(void 0===i)return!0;if(!t.methods[n])throw new Error(`Method '${n}' was not found in the Logic Engine.`);return!1===t.methods[n].traverse?"function"==typeof t.methods[n].deterministic?t.methods[n].deterministic(i,r):t.methods[n].deterministic:"function"==typeof t.methods[n].deterministic?t.methods[n].deterministic(i,r):t.methods[n].deterministic&&m(i,t,r)}return!0}function g(e,t){if(!t.async)return!0;if(Array.isArray(e))return e.every((e=>g(e,t)));if("object"==typeof e){const r=Object.keys(e)[0],n=e[r];return!!l(t.methods[r])&&(!1===t.methods[r].traverse?!("function"!=typeof t.methods[r][a]||!t.methods[r][a](e,{engine:t})):g(n,t))}return!0}function b(e,t={}){const{notTraversed:r=[],async:n,processing:i=[],values:o=[],engine:a}=t;function c(e,t=!1){return function(e,t){return("number"!=typeof e||e!==1/0&&e!==-1/0&&!Number.isNaN(e))&&(null==e||["Number","String","Boolean"].includes(e.constructor.name)||!t&&"Object"===e.constructor.name)}(e,t)?JSON.stringify(e):(o.push(e),`values[${o.length-1}]`)}if(Array.isArray(e)){let r="";for(let n=0;n<e.length;n++)n>0&&(r+=","),r+=b(e[n],t);return"["+r+"]"}let u=!1;function f(e){return t.asyncDetected=t.asyncDetected||u,n&&u?`await ${e}`:e}const d=e&&Object.keys(e)[0];if(e&&"object"==typeof e){if(!d)return c(e);if(!a.methods[d]){if(a.isData(e,d))return c(e,!0);throw new Error(`Method '${d}' was not found in the Logic Engine.`)}if(!t.engine.disableInline&&a.methods[d]&&m(e,a,t))return g(e,a)?c((a.fallback||a).run(e),!0):t.avoidInlineAsync?(t.asyncDetected=!0,`(await ${c(a.run(e))})`):(i.push(a.run(e).then((e=>c(e)))),`__%%%${i.length-1}%%%__`);let o=e[d];if(o&&"object"==typeof o||(o=[o]),a.methods[d]&&a.methods[d].compile){let e=a.methods[d].compile(o,t);if(e[s]&&(e=e[s]),(e||"").startsWith("await")&&(t.asyncDetected=!0),!1!==e)return e}let h=a.methods[d].optimizeUnary?"":"coerceArray";h||!Array.isArray(o)||1!==o.length||Array.isArray(o[0])?h&&Array.isArray(o)&&(h=""):o=o[0];const p=[", context",", context, above",", context, above, engine"];if("function"==typeof a.methods[d]){u=!l(a.methods[d]);const e=p[y(a.methods[d])-1]||p[2];return f(`engine.methods["${d}"](${h}(`+b(o,t)+")"+e+")")}{u=Boolean(n&&a.methods[d]&&a.methods[d].asyncMethod);const e=p[y(u?a.methods[d].asyncMethod:a.methods[d].method)-1]||p[2];return a.methods[d]&&(void 0===a.methods[d].traverse||a.methods[d].traverse)?f(`engine.methods["${d}"]${u?".asyncMethod":".method"}(${h}(`+b(o,t)+")"+e+")"):(r.push(o),f(`engine.methods["${d}"]${u?".asyncMethod":".method"}(notTraversed[${r.length-1}]`+e+")"))}}return c(e)}function v(e,t={}){Object.assign(t,Object.assign({notTraversed:[],methods:[],state:{},processing:[],async:t.engine.async,asyncDetected:!1,values:[],compile:p},t));return w(e,b(e,t),t)}async function A(e,t={}){Object.assign(t,Object.assign({notTraversed:[],methods:[],state:{},processing:[],async:t.engine.async,asyncDetected:!1,values:[],compile:p},t));const r=b(e,t);return t.processing=await Promise.all(t.processing||[]),w(e,r,t)}function w(e,t,r){const{engine:n,methods:i,notTraversed:s,processing:c=[],values:u}=r;c.forEach(((e,r)=>{t=t.replace(`__%%%${r}%%%__`,e)}));const l=`(values, methods, notTraversed, asyncIterators, engine, above, coerceArray) => ${r.asyncDetected?"async":""} (context ${r.extraArguments?","+r.extraArguments:""}) => { const result = ${t}; return result }`;return Object.assign(("undefined"!=typeof globalThis?globalThis:global).eval(l)(u,i,s,o,n,[],d),{[a]:!r.asyncDetected,aboveDetected:"string"==typeof t&&t.includes(", above")})}const $=(()=>{try{const e={};return void 0===("undefined"!=typeof globalThis?globalThis:global).eval("(test) => test?.foo?.bar")(e)}catch(e){return!1}})();class j extends Error{constructor(e){super(),this.message="Built-in control structures are not allowed to receive dynamic inputs, this could allow a lesser version of remote-code execution.",this.input=e}}const O=new Map;function M(e){if(O.has(e))return O.get(e);O.size>2048&&O.clear();const t=x(e);return O.set(e,t),t}function x(e,t=".",r="\\",n="/"){const i=[];let o="";for(let a=0;a<e.length;a++){const s=e[a];s===r?e[a+1]===t||e[a+1]===n?(o+=e[a+1],a++):e[a+1]===r?(o+=r,a++):o+=r:s===t?(i.push(o),o=""):o+=s}return i.length!==e.length&&i.push(o),i}const S={get:{[a]:!0,method:([e,t,r],n,i,o)=>{const a=void 0===r?null:r,s=M(String(t));for(let c=0;c<s.length;c++){if(null==e)return a;if(void 0===(e=e[s[c]]))return a}return o.allowFunctions||"function"!=typeof e[t]?e:null},deterministic:!0,compile:(e,t)=>{let r=null,n=e,i=null;if(Array.isArray(e)&&e.length<=3){if(i=e[0],n=e[1],r=void 0===e[2]?null:e[2],n&&"object"==typeof n)return!1;n=n.toString();const o=M(n);return $?`((${b(i,t)})${o.map((e=>`?.[${b(e,t)}]`)).join("")} ?? ${b(r,t)})`:`(((a,b) => (typeof a === 'undefined' || a === null) ? b : a)(${o.reduce(((e,t)=>`(${e}||0)[${JSON.stringify(t)}]`),`(${b(i,t)}||0)`)}, ${b(r,t)}))`}return!1}},var:{[c]:!0,[a]:!0,method:(e,t,r,n)=>{let i;Array.isArray(e)&&(i=e[1],e=e[0]);let o=0;for(;"string"==typeof e&&e.startsWith("../")&&o<r.length;)t=r[o++],e=e.substring(3),o===r.length&&Array.isArray(t)&&(o=0,t=(r=t)[o++]);const a=void 0===i?null:i;if(void 0===e||""===e||null===e)return n.allowFunctions||"function"!=typeof t?t:null;const s=M(String(e));for(let c=0;c<s.length;c++){if(null==t)return a;if(void 0===(t=t[s[c]]))return a}return n.allowFunctions||"function"!=typeof t?t:null},deterministic:(e,t)=>t.insideIterator&&!String(e).includes("../../"),optimizeUnary:!0,compile:(e,t)=>{let r=e,n=null;if(!r||"string"==typeof e||"number"==typeof e||Array.isArray(e)&&e.length<=2){if(Array.isArray(e)&&(r=e[0],n=void 0===e[1]?null:e[1]),"../index"===r&&t.iteratorCompile)return"index";if(null==r||""===r)return"context";if("string"!=typeof r&&"number"!=typeof r)return!1;if(r=r.toString(),r.includes("../"))return!1;const i=M(r);return t.engine.allowFunctions?t.methods.preventFunctions=e=>e:t.methods.preventFunctions=e=>"function"==typeof e?null:e,$?`(methods.preventFunctions(context${i.map((e=>`?.[${JSON.stringify(e)}]`)).join("")} ?? ${b(n,t)}))`:`(methods.preventFunctions(((a,b) => (typeof a === 'undefined' || a === null) ? b : a)(${i.reduce(((e,t)=>`(${e}||0)[${JSON.stringify(t)}]`),"(context||0)")}, ${b(n,t)})))`}return!1}},missing:{[a]:!0,optimizeUnary:!1,method:(e,t,r,n)=>(Array.isArray(e)?e:[e]).filter((e=>null===S.var.method(e,t,r,n))),deterministic:!1},missing_some:{[a]:!0,optimizeUnary:!1,method:([e,t],r,n,i)=>{const o=S.missing.method(t,r,n,i);return t.length-o.length>=e?[]:o},deterministic:!1}},z={...S};function k(e,t,r){if(Array.isArray(e))return e.every((e=>k(e,t,r)));if(e&&"object"==typeof e){const n=Object.keys(e)[0],i=e[n];if(t.isData(e,n))return!0;if(!t.methods[n])throw new Error(`Method '${n}' was not found in the Logic Engine.`);return!1===t.methods[n].traverse?"function"==typeof t.methods[n].deterministic?t.methods[n].deterministic(i,r):t.methods[n].deterministic:"function"==typeof t.methods[n].deterministic?t.methods[n].deterministic(i,r):t.methods[n].deterministic&&k(i,t,r)}return!0}function E(e,t,r){if(Array.isArray(e))return e.every((e=>E(e,t,r)));if(e&&"object"==typeof e){const n=Object.keys(e)[0],i=e[n];if(t.isData(e,n))return!0;if(!t.methods[n])throw new Error(`Method '${n}' was not found in the Logic Engine.`);return!1===t.methods[n].traverse?"function"==typeof t.methods[n][a]?t.methods[n][a](i,r):t.methods[n][a]:"function"==typeof t.methods[n][a]?t.methods[n][a](i,r):t.methods[n][a]&&E(i,t,r)}return!0}const I={"+":e=>{if("string"==typeof e)return+e;if("number"==typeof e)return+e;let t=0;for(let r=0;r<e.length;r++)t+=+e[r];return t},"*":e=>{let t=1;for(let r=0;r<e.length;r++)t*=+e[r];return t},"/":e=>{let t=e[0];for(let r=1;r<e.length;r++)t/=+e[r];return t},"-":e=>{if("string"==typeof e)return-e;if("number"==typeof e)return-e;if(1===e.length)return-e[0];let t=e[0];for(let r=1;r<e.length;r++)t-=+e[r];return t},"%":e=>{let t=e[0];for(let r=1;r<e.length;r++)t%=+e[r];return t},max:e=>Math.max(...e),min:e=>Math.min(...e),in:([e,t])=>(t||[]).includes(e),preserve:{traverse:!1,method:f((e=>e),!0),[a]:()=>!0},if:{method:(e,t,r,n)=>{if(!Array.isArray(e))throw new j(e);if(1===e.length)return n.run(e[0],t,{above:r});if(e.length<2)return null;(e=[...e]).length%2!=1&&e.push(null);const i=e.pop();for(;e.length;){const i=e.shift(),o=e.shift(),a=n.run(i,t,{above:r});if(n.truthy(a))return n.run(o,t,{above:r})}return n.run(i,t,{above:r})},[a]:(e,t)=>E(e,t.engine,t),deterministic:(e,t)=>k(e,t.engine,t),asyncMethod:async(e,t,r,n)=>{if(!Array.isArray(e))throw new j(e);if(1===e.length)return n.run(e[0],t,{above:r});if(e.length<2)return null;(e=[...e]).length%2!=1&&e.push(null);const i=e.pop();for(;e.length;){const i=e.shift(),o=e.shift(),a=await n.run(i,t,{above:r});if(n.truthy(a))return n.run(o,t,{above:r})}return n.run(i,t,{above:r})},traverse:!1},"<":e=>{if(2===e.length)return e[0]<e[1];for(let t=1;t<e.length;t++)if(e[t-1]>=e[t])return!1;return!0},"<=":e=>{if(2===e.length)return e[0]<=e[1];for(let t=1;t<e.length;t++)if(e[t-1]>e[t])return!1;return!0},">":e=>{if(2===e.length)return e[0]>e[1];for(let t=1;t<e.length;t++)if(e[t-1]<=e[t])return!1;return!0},">=":e=>{if(2===e.length)return e[0]>=e[1];for(let t=1;t<e.length;t++)if(e[t-1]<e[t])return!1;return!0},"==":e=>{if(2===e.length)return e[0]==e[1];for(let t=1;t<e.length;t++)if(e[t-1]!=e[t])return!1;return!0},"===":e=>{if(2===e.length)return e[0]===e[1];for(let t=1;t<e.length;t++)if(e[t-1]!==e[t])return!1;return!0},"!=":e=>{if(2===e.length)return e[0]!=e[1];for(let t=1;t<e.length;t++)if(e[t-1]==e[t])return!1;return!0},"!==":e=>{if(2===e.length)return e[0]!==e[1];for(let t=1;t<e.length;t++)if(e[t-1]===e[t])return!1;return!0},xor:([e,t])=>e^t,"??":{[a]:(e,t)=>E(e,t.engine,t),method:(e,t,r,n)=>{const i=Array.isArray(e);let o;i||(e=n.run(e,t,{above:r}));for(let a=0;a<e.length;a++)if(o=i?n.run(e[a],t,{above:r}):e[a],null!=o)return o;return void 0===o?null:o},asyncMethod:async(e,t,r,n)=>{const i=Array.isArray(e);let o;i||(e=await n.run(e,t,{above:r}));for(let a=0;a<e.length;a++)if(o=i?await n.run(e[a],t,{above:r}):e[a],null!=o)return o;return void 0===o?null:o},deterministic:(e,t)=>k(e,t.engine,t),compile:(e,t)=>!!$&&(Array.isArray(e)&&e.length?`(${e.map((e=>b(e,t))).join(" ?? ")})`:`(${b(e,t)}).reduce((a,b) => a ?? b, null)`),traverse:!1},or:{[a]:(e,t)=>E(e,t.engine,t),method:(e,t,r,n)=>{const i=Array.isArray(e);let o;i||(e=n.run(e,t,{above:r}));for(let a=0;a<e.length;a++)if(o=i?n.run(e[a],t,{above:r}):e[a],n.truthy(o))return o;return o},asyncMethod:async(e,t,r,n)=>{const i=Array.isArray(e);let o;i||(e=await n.run(e,t,{above:r}));for(let a=0;a<e.length;a++)if(o=i?await n.run(e[a],t,{above:r}):e[a],n.truthy(o))return o;return o},deterministic:(e,t)=>k(e,t.engine,t),compile:(e,t)=>!!t.engine.truthy[c]&&(Array.isArray(e)&&e.length?`(${e.map((e=>b(e,t))).join(" || ")})`:`(${b(e,t)}).reduce((a,b) => a||b, false)`),traverse:!1},and:{[a]:(e,t)=>E(e,t.engine,t),method:(e,t,r,n)=>{const i=Array.isArray(e);let o;i||(e=n.run(e,t,{above:r}));for(let a=0;a<e.length;a++)if(o=i?n.run(e[a],t,{above:r}):e[a],!n.truthy(o))return o;return o},asyncMethod:async(e,t,r,n)=>{const i=Array.isArray(e);let o;i||(e=await n.run(e,t,{above:r}));for(let a=0;a<e.length;a++)if(o=i?await n.run(e[a],t,{above:r}):e[a],!n.truthy(o))return o;return o},traverse:!1,deterministic:(e,t)=>k(e,t.engine,t),compile:(e,t)=>!!t.engine.truthy[c]&&(Array.isArray(e)&&e.length?`(${e.map((e=>b(e,t))).join(" && ")})`:`(${b(e,t)}).reduce((a,b) => a&&b, true)`)},substr:([e,t,r])=>{if(r<0){const n=e.substr(t);return n.substr(0,n.length+r)}return e.substr(t,r)},length:([e])=>"string"==typeof e||Array.isArray(e)?e.length:e&&"object"==typeof e?Object.keys(e).length:0,exists:{method:(e,t,r,n)=>I.val.method(e,t,r,n,u)!==u,traverse:!0,deterministic:!1},val:{[c]:!0,[a]:!0,method:(e,t,r,n,i=null)=>{if(Array.isArray(e)&&1===e.length&&!Array.isArray(e[0])&&(e=e[0]),!Array.isArray(e)){if(i&&(!t||!(e in t)))return i;if(null==t)return null;const r=t[e];return void 0===r?null:r}let o=t,a=0;if(Array.isArray(e[0])&&1===e[0].length){a++;const t=+Math.abs(e[0][0]);let n=0;for(let e=0;e<t;e++)o=r[n++],e===r.length-1&&Array.isArray(o)&&(r=o,o=o[0],n=1)}for(let s=a;s<e.length;s++){if(i&&(!o||!(e[s]in o)))return i;if(null==o)return null;o=o[e[s]]}return void 0===o?i:"function"!=typeof o||n.allowFunctions?o:i},optimizeUnary:!0,deterministic:(e,t)=>!!t.insideIterator&&!(Array.isArray(e)&&Array.isArray(e[0])&&Math.abs(e[0][0])>=2),compile:(e,t)=>{function r(e){return $?t.compile`(methods.preventFunctions(${e} ?? null))`:t.compile`(methods.preventFunctions(((a) => a === null || a === undefined ? null : a)(${e})))`}if(t.engine.allowFunctions?t.methods.preventFunctions=e=>e:t.methods.preventFunctions=e=>"function"==typeof e?null:e,"object"==typeof e&&!Array.isArray(e)){if(!E(e,t.engine,t)||!k(e,t.engine,t)||t.engine.disableInline)return!1;e=(t.engine.fallback||t.engine).run(e,t.context,{above:t.above})}if(Array.isArray(e)&&Array.isArray(e[0]))return!(!t.iteratorCompile||1!==Math.abs(e[0][0]||0)||"index"!==e[1])&&t.compile`index`;if(Array.isArray(e)&&1===e.length&&(e=e[0]),null===e)return r(t.compile`context`);if(!Array.isArray(e))return r($?t.compile`context?.[${e}]`:t.compile`(context || 0)[${e}]`);if(Array.isArray(e)){let n=t.compile`context`;for(let r=0;r<e.length;r++)null!==e[r]&&(n=$?t.compile`${n}?.[${e[r]}]`:t.compile`(${n}|| 0)[${e[r]}]`);return r(t.compile`(${n})`)}return!1}},map:D("map"),some:D("some",!0),all:D("every",!0),none:{[a]:(e,t)=>E(e,t.engine,t),traverse:!1,method:(e,t,r,n)=>!I.some.method(e,t,r,n),asyncMethod:async(e,t,r,n)=>!await I.some.asyncMethod(e,t,r,n),compile:(e,t)=>{const r=I.some.compile(e,t);return!!r&&t.compile`!(${r})`}},merge:e=>Array.isArray(e)?[].concat(...e):[e],every:D("every"),filter:D("filter",!0),reduce:{deterministic:(e,t)=>k(e[0],t.engine,t)&&k(e[1],t.engine,{...t,insideIterator:!0}),compile:(e,t)=>{if(!Array.isArray(e))throw new j(e);const{async:r}=t;let[n,i,o]=e;n=b(n,t),void 0!==o&&(o=b(o,t));i=v(i,{...t,extraArguments:"above",avoidInlineAsync:!0});const a=i.aboveDetected?"[null, context, above]":"null";return t.methods.push(i),!r||l(i)&&!n.includes("await")?void 0!==o?`(${n} || []).reduce((a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, ${a}), ${o})`:`(${n} || []).reduce((a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, ${a}))`:(t.asyncDetected=!0,void 0!==o?`await asyncIterators.reduce(${n} || [], (a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, ${a}), ${o})`:`await asyncIterators.reduce(${n} || [], (a,b) => methods[${t.methods.length-1}]({ accumulator: a, current: b }, ${a}))`)},method:(e,t,r,n)=>{if(!Array.isArray(e))throw new j(e);let[i,o,a]=e;a=n.run(a,t,{above:r}),i=n.run(i,t,{above:r})||[];const s=(e,a)=>n.run(o,{accumulator:e,current:a},{above:[i,t,r]});return void 0===a?i.reduce(s):i.reduce(s,a)},[a]:(e,t)=>E(e,t.engine,t),asyncMethod:async(e,t,r,n)=>{if(!Array.isArray(e))throw new j(e);let[i,a,s]=e;return s=await n.run(s,t,{above:r}),i=await n.run(i,t,{above:r})||[],o.reduce(i,((e,o)=>n.run(a,{accumulator:e,current:o},{above:[i,t,r]})),s)},traverse:!1},"!":(e,t,r,n)=>Array.isArray(e)?!n.truthy(e[0]):!n.truthy(e),"!!":(e,t,r,n)=>Boolean(Array.isArray(e)?n.truthy(e[0]):n.truthy(e)),cat:{[c]:!0,[a]:!0,method:e=>{if("string"==typeof e)return e;if(!Array.isArray(e))return e.toString();let t="";for(let r=0;r<e.length;r++)null!==e[r]&&void 0!==e[r]&&(t+=e[r]);return t},deterministic:!0,traverse:!0,optimizeUnary:!0,compile:(e,t)=>{if("string"==typeof e)return JSON.stringify(e);if("number"==typeof e)return'"'+JSON.stringify(e)+'"';if(!Array.isArray(e))return!1;let r=t.compile`''`;for(let n=0;n<e.length;n++)r=t.compile`${r} + ${e[n]}`;return t.compile`(${r})`}},keys:([e])=>"object"==typeof e?Object.keys(e):[],pipe:{traverse:!1,[a]:(e,t)=>E(e,t.engine,t),method:(e,t,r,n)=>{if(!Array.isArray(e))throw new Error("Data for pipe must be an array");let i=n.run(e[0],t,{above:[e,t,r]});for(let o=1;o<e.length;o++)i=n.run(e[o],i,{above:[e,t,r]});return i},asyncMethod:async(e,t,r,n)=>{if(!Array.isArray(e))throw new Error("Data for pipe must be an array");let i=await n.run(e[0],t,{above:[e,t,r]});for(let o=1;o<e.length;o++)i=await n.run(e[o],i,{above:[e,t,r]});return i},compile:(e,t)=>{let r=t.compile`${e[0]}`;for(let n=1;n<e.length;n++)r=t.compile`${v(e[n],{...t,extraArguments:"above"})}(${r}, [null, context, above])`;return r},deterministic:(e,t)=>{if(!Array.isArray(e))return!1;return k((e=[...e]).shift(),t.engine,t)&&k(e,t.engine,{...t,insideIterator:!0})}},eachKey:{traverse:!1,[a]:(e,t)=>E(Object.values(e[Object.keys(e)[0]]),t.engine,t),method:(e,t,r,n)=>Object.keys(e).reduce(((i,o)=>{const a=e[o];return Object.defineProperty(i,o,{enumerable:!0,value:n.run(a,t,{above:r})}),i}),{}),deterministic:(e,t)=>{if(e&&"object"==typeof e)return Object.values(e).every((e=>k(e,t.engine,t)));throw new j(e)},compile:(e,t)=>{if(e&&"object"==typeof e){return`({ ${Object.keys(e).reduce(((r,n)=>(r.push(`${JSON.stringify(n)}: ${b(e[n],t)}`),r)),[]).join(",")} })`}throw new j(e)},asyncMethod:async(e,t,r,n)=>await o.reduce(Object.keys(e),(async(i,o)=>{const a=e[o];return Object.defineProperty(i,o,{enumerable:!0,value:await n.run(a,t,{above:r})}),i}),{})}};function D(e,t=!1){return{deterministic:(e,t)=>k(e[0],t.engine,t)&&k(e[1],t.engine,{...t,insideIterator:!0}),[a]:(e,t)=>E(e,t.engine,t),method:(r,n,i,o)=>{if(!Array.isArray(r))throw new j(r);let[a,s]=r;return a=o.run(a,n,{above:i})||[],a[e](((e,r)=>{const c=o.run(s,e,{above:[{iterator:a,index:r},n,i]});return t?o.truthy(c):c}))},asyncMethod:async(r,n,i,a)=>{if(!Array.isArray(r))throw new j(r);let[s,c]=r;return s=await a.run(s,n,{above:i})||[],o[e](s,(async(e,r)=>{const o=await a.run(c,e,{above:[{iterator:s,index:r},n,i]});return t?a.truthy(o):o}))},compile:(r,n)=>{if(!Array.isArray(r))throw new j(r);const{async:i}=n,[o,a]=r,s=v(a,{...n,avoidInlineAsync:!0,iteratorCompile:!0,extraArguments:"index, above"}),c=s.aboveDetected?n.compile`[{ iterator: z, index: x }, context, above]`:n.compile`null`,u=t?n.compile`engine.truthy`:n.compile``;return i&&!l(s)?(n.asyncDetected=!0,n.compile`await asyncIterators[${e}](${o} || [], async (i, x, z) => ${u}(${s}(i, x, ${c})))`):n.compile`(${o} || [])[${e}]((i, x, z) => ${u}(${s}(i, x, ${c})))`},traverse:!1}}I["?:"]=I.if,Object.keys(I).forEach((e=>{"function"==typeof I[e]&&(I[e][a]=!0),I[e].deterministic=void 0===I[e].deterministic||I[e].deterministic})),I["<"].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} < ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} < ${e[n]})`;return r},I["<="].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} <= ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} <= ${e[n]})`;return r},I.min.compile=function(e,t){return!!Array.isArray(e)&&`Math.min(${e.map((e=>b(e,t))).join(", ")})`},I.max.compile=function(e,t){return!!Array.isArray(e)&&`Math.max(${e.map((e=>b(e,t))).join(", ")})`},I[">"].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} > ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} > ${e[n]})`;return r},I[">="].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} >= ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} >= ${e[n]})`;return r},I["=="].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} == ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} == ${e[n]})`;return r},I["!="].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} != ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} != ${e[n]})`;return r},I.if.compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<3)return!1;(e=[...e]).length%2!=1&&e.push(null);const r=e.pop();let n=t.compile``;for(;e.length;){const r=e.shift(),i=e.shift();n=t.compile`${n} engine.truthy(${r}) ? ${i} : `}return t.compile`(${n} ${r})`},I["==="].compile=function(e,t){if(!Array.isArray(e))return!1;if(e.length<2)return!1;let r=t.compile`(${e[0]} === ${e[1]})`;for(let n=2;n<e.length;n++)r=t.compile`(${r} && ${e[n-1]} === ${e[n]})`;return r},I["+"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${b(e,t)})`)).join(" + ")})`:"string"==typeof e||"number"==typeof e?`(+${b(e,t)})`:`([].concat(${b(e,t)})).reduce((a,b) => (+a)+(+b), 0)`},I["%"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${b(e,t)})`)).join(" % ")})`:`(${b(e,t)}).reduce((a,b) => (+a)%(+b))`},I.in.compile=function(e,t){return!!Array.isArray(e)&&t.compile`(${e[1]} || []).includes(${e[0]})`},I["-"].compile=function(e,t){return Array.isArray(e)?`${1===e.length?"-":""}(${e.map((e=>`(+${b(e,t)})`)).join(" - ")})`:"string"==typeof e||"number"==typeof e?`(-${b(e,t)})`:`((a=>(a.length===1?a[0]=-a[0]:a)&0||a)([].concat(${b(e,t)}))).reduce((a,b) => (+a)-(+b))`},I["/"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${b(e,t)})`)).join(" / ")})`:`(${b(e,t)}).reduce((a,b) => (+a)/(+b))`},I["*"].compile=function(e,t){return Array.isArray(e)?`(${e.map((e=>`(+${b(e,t)})`)).join(" * ")})`:`(${b(e,t)}).reduce((a,b) => (+a)*(+b))`},I.cat.compile=function(e,t){if("string"==typeof e)return JSON.stringify(e);if(!Array.isArray(e))return!1;let r=t.compile`''`;for(let n=0;n<e.length;n++)r=t.compile`${r} + ${e[n]}`;return t.compile`(${r})`},I["!"].compile=function(e,t){return Array.isArray(e)?t.compile`(!engine.truthy(${e[0]}))`:t.compile`(!engine.truthy(${e}))`},I.not=I["!"],I["!!"].compile=function(e,t){return Array.isArray(e)?t.compile`(!!engine.truthy(${e[0]}))`:`(!!engine.truthy(${e}))`},I.none.deterministic=I.some.deterministic,I["+"].optimizeUnary=I["-"].optimizeUnary=I["!"].optimizeUnary=I["!!"].optimizeUnary=I.cat.optimizeUnary=!0;const P={...I,...z},R=function(e){return Object.keys(e).forEach((t=>{void 0===e[t]&&delete e[t]})),e};function _(e,t,r=[]){if(Array.isArray(e)){const n=e.map((e=>_(e,t,r)));return(e,t)=>n.map((r=>"function"==typeof r?r(e,t):r))}if(e&&"object"==typeof e){const n=Object.keys(e)[0];if(t.isData(e,n))return()=>e;const i=!t.disableInline&&m(e,t,{engine:t});if(n in t.methods){const o=function(e,t,r,n){const i=t.methods[r],o=i.method?i.method:i;if(!1===i.traverse){const i=e[r];return(e,r)=>o(i,e,r||n,t)}let a=e[r];if(a&&"object"==typeof a||i.optimizeUnary||(a=[a]),Array.isArray(a)){const e=a.map((e=>_(e,t,n)));return e.every((e=>"function"!=typeof e))?(r,i)=>o(e,r,i||n,t):(r,i)=>{const a=e.map((e=>"function"==typeof e?e(r,i):e));return o(a,r,i||n,t)}}{const e=_(a,t,n);return i.optimizeUnary?"function"==typeof e?(r,i)=>o(e(r,i),r,i||n,t):(r,i)=>o(e,r,i||n,t):"function"==typeof e?(r,i)=>o(d(e(r,i)),r,i||n,t):(r,i)=>o(d(e),r,i||n,t)}}(e,t,n,r);return i?o():o}}return e}const N=P.all,F={[a]:N[a],method:(e,t,r,n)=>{if(Array.isArray(e)){const i=n.run(e[0],t,r);if(Array.isArray(i)&&0===i.length)return!1}return N.method(e,t,r,n)},asyncMethod:async(e,t,r,n)=>{if(Array.isArray(e)){const i=await n.run(e[0],t,r);if(Array.isArray(i)&&0===i.length)return!1}return N.asyncMethod(e,t,r,n)},deterministic:N.deterministic,traverse:N.traverse};function T(e){return(!Array.isArray(e)||0!==e.length)&&e}function C(e){e.methods.all=F,e.truthy=T}class U{constructor(e=P,t={disableInline:!1,disableInterpretedOptimization:!1,permissive:!1}){this.disableInline=t.disableInline,this.disableInterpretedOptimization=t.disableInterpretedOptimization,this.methods={...e},this.optimizedMap=new WeakMap,this.missesSinceSeen=0,t.compatible&&C(this),this.options={disableInline:t.disableInline,disableInterpretedOptimization:t.disableInterpretedOptimization},this.isData||(t.permissive?this.isData=(e,t)=>!(t in this.methods):this.isData=()=>!1)}truthy(e){return e}_parse(e,t,r){const[n]=Object.keys(e),i=e[n];if(this.isData(e,n))return e;if(!this.methods[n])throw new Error(`Method '${n}' was not found in the Logic Engine.`);if(("var"===n||"val"===n)&&this.methods[n][c]){const e=i&&"object"==typeof i?this.run(i,t,{above:r}):i;return this.methods[n].method(e,t,r,this,null)}if("function"==typeof this.methods[n]){const e=i&&"object"==typeof i?d(this.run(i,t,{above:r})):[i];return this.methods[n](e,t,r,this)}if("object"==typeof this.methods[n]){const{method:e,traverse:o}=this.methods[n];return e(void 0===o||o?i&&"object"==typeof i?d(this.run(i,t,{above:r})):[i]:i,t,r,this)}throw new Error(`Method '${n}' is not set up properly.`)}addMethod(e,t,{deterministic:r,optimizeUnary:n}={}){t="function"==typeof t?{method:t,traverse:!0}:{...t},Object.assign(t,R({deterministic:r,optimizeUnary:n})),this.methods[e]=f(t)}addModule(e,t,r){Object.getOwnPropertyNames(t).forEach((n=>{"function"!=typeof t[n]&&"object"!=typeof t[n]||this.addMethod(`${e}${e?".":""}${n}`,t[n],r)}))}run(e,t={},r={}){const{above:n=[]}=r;if(this.missesSinceSeen>500&&(this.disableInterpretedOptimization=!0,this.missesSinceSeen=0),!this.disableInterpretedOptimization&&"object"==typeof e&&e&&!this.optimizedMap.has(e))return this.optimizedMap.set(e,_(e,this,n)),this.missesSinceSeen++,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,n):this.optimizedMap.get(e);if(!this.disableInterpretedOptimization&&e&&"object"==typeof e&&this.optimizedMap.get(e))return this.missesSinceSeen=0,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,n):this.optimizedMap.get(e);if(Array.isArray(e)){const r=[];for(let i=0;i<e.length;i++)r.push(this.run(e[i],t,{above:n}));return r}return e&&"object"==typeof e&&Object.keys(e).length>0?this._parse(e,t,n):e}build(e,t={}){const{above:r=[],top:n=!0}=t;if(n){const t=v(e,{state:{},engine:this,above:r});return"function"==typeof t||!0===n?(...e)=>"function"==typeof t?t(...e):t:t}return e}}function L(e,t,r=[]){if(t.fallback.allowFunctions=t.allowFunctions,Array.isArray(e)){const n=e.map((e=>L(e,t,r)));return l(n)?f(((e,t)=>n.map((r=>"function"==typeof r?r(e,t):r))),!0):async(e,t)=>i(n,(r=>"function"==typeof r?r(e,t):r))}if(e&&"object"==typeof e){const n=Object.keys(e)[0];if(t.isData(e,n))return()=>e;const o=!t.disableInline&&m(e,t,{engine:t});if(n in t.methods){const s=function(e,t,r,n){const o=t.methods[r],s=o.asyncMethod?o.asyncMethod:o.method?o.method:o;if(!1===o.traverse){if("function"==typeof o[a]&&o[a](e,{engine:t})){const i=o.method?o.method:o;return f(((o,a)=>i(e[r],o,a||n,t.fallback)),!0)}const i=e[r];return(e,r)=>s(i,e,r||n,t)}let c=e[r];if(c&&"object"==typeof c||o.optimizeUnary||(c=[c]),Array.isArray(c)){const e=c.map((e=>L(e,t,n)));if(l(e)&&(o.method||o[a])){const r=o.method?o.method:o;return f(((i,o)=>{const a=e.map((e=>"function"==typeof e?e(i,o):e));return r(a,i,o||n,t.fallback)}),!0)}return async(r,o)=>{const a=await i(e,(e=>"function"==typeof e?e(r,o):e));return s(a,r,o||n,t)}}{const e=L(c,t,n);if(l(e)&&(o.method||o[a])){const r=o.method?o.method:o;return o.optimizeUnary?f(((i,o)=>r("function"==typeof e?e(i,o):e,i,o||n,t.fallback)),!0):f(((i,o)=>r(d("function"==typeof e?e(i,o):e),i,o||n,t)),!0)}return o.optimizeUnary?async(r,i)=>s("function"==typeof e?await e(r,i):e,r,i||n,t):async(r,i)=>s(d("function"==typeof e?await e(r,i):e),r,i||n,t)}}(e,t,n,r);if(o){let e;return l(s)?f((()=>(e||(e=s()),e)),!0):async()=>(e||(e=await s()),e)}return s}}return e}Object.assign(U.prototype.truthy,{[c]:!0});class V{constructor(e=P,t={disableInline:!1,disableInterpretedOptimization:!1,permissive:!1}){this.methods={...e},this.options={disableInline:t.disableInline,disableInterpretedOptimization:t.disableInterpretedOptimization},this.disableInline=t.disableInline,this.disableInterpretedOptimization=t.disableInterpretedOptimization,this.async=!0,this.fallback=new U(e,t),t.compatible&&C(this),this.optimizedMap=new WeakMap,this.missesSinceSeen=0,this.isData||(t.permissive?this.isData=(e,t)=>!(t in this.methods):this.isData=()=>!1),this.fallback.isData=this.isData}truthy(e){return e}async _parse(e,t,r){const[n]=Object.keys(e),i=e[n];if(this.isData(e,n))return e;if(!this.methods[n])throw new Error(`Method '${n}' was not found in the Logic Engine.`);if(("var"===n||"val"===n)&&this.methods[n][c]){const e=i&&"object"==typeof i?this.fallback.run(i,t,{above:r}):i;return this.methods[n].method(e,t,r,this)}if("function"==typeof this.methods[n]){const e=i&&"object"==typeof i?await this.run(i,t,{above:r}):[i],o=await this.methods[n](d(e),t,r,this);return Array.isArray(o)?Promise.all(o):o}if("object"==typeof this.methods[n]){const{asyncMethod:e,method:o,traverse:a}=this.methods[n],s=void 0===a||a?i&&"object"==typeof i?d(await this.run(i,t,{above:r})):[i]:i,c=await(e||o)(s,t,r,this);return Array.isArray(c)?Promise.all(c):c}throw new Error(`Method '${n}' is not set up properly.`)}addMethod(e,t,{deterministic:r,async:n,sync:i,optimizeUnary:o}={}){void 0===n&&void 0===i&&(i=!1),void 0!==i&&(n=!i),void 0!==n&&(i=!n),t="function"==typeof t?n?{asyncMethod:t,traverse:!0}:{method:t,traverse:!0}:{...t},Object.assign(t,R({deterministic:r,optimizeUnary:o})),this.fallback.addMethod(e,t,{deterministic:r}),this.methods[e]=f(t,i)}addModule(e,t,r={}){Object.getOwnPropertyNames(t).forEach((n=>{"function"!=typeof t[n]&&"object"!=typeof t[n]||this.addMethod(`${e}${e?".":""}${n}`,t[n],r)}))}async run(e,t={},r={}){const{above:n=[]}=r;if(this.missesSinceSeen>500&&(this.disableInterpretedOptimization=!0,this.missesSinceSeen=0),!this.disableInterpretedOptimization&&"object"==typeof e&&e&&!this.optimizedMap.has(e))return this.optimizedMap.set(e,L(e,this,n)),this.missesSinceSeen++,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,n):this.optimizedMap.get(e);if(!this.disableInterpretedOptimization&&e&&"object"==typeof e&&this.optimizedMap.get(e))return this.missesSinceSeen=0,"function"==typeof this.optimizedMap.get(e)?this.optimizedMap.get(e)(t,n):this.optimizedMap.get(e);if(Array.isArray(e)){const r=[];for(let i=0;i<e.length;i++)r.push(await this.run(e[i],t,{above:n}));return r}return e&&"object"==typeof e&&Object.keys(e).length>0?this._parse(e,t,n):e}async build(e,t={}){const{above:r=[],top:n=!0}=t;if(this.fallback.truthy=this.truthy,this.fallback.allowFunctions=this.allowFunctions,n){const t=await A(e,{engine:this,above:r,async:!0,state:{}}),i=f(((...e)=>{if(!0===n)try{const r="function"==typeof t?t(...e):t;return Promise.resolve(r)}catch(r){return Promise.reject(r)}return"function"==typeof t?t(...e):t}),!0!==n&&l(t));return"function"==typeof t||!0===n?i:t}return e}}Object.assign(V.prototype.truthy,{[c]:!0});var J=r(2303),q=r(4848);function W(e){let{children:t,fallback:r}=e;return(0,J.A)()?(0,q.jsx)(q.Fragment,{children:t?.()}):r??null}function B(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function G(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ee(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}}function te(e){return{}.toString.call(e).includes("Object")}function re(e){return"function"==typeof e}var ne=ee((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),ie={changes:function(e,t){return te(t)||ne("changeType"),Object.keys(t).some((function(t){return r=e,n=t,!Object.prototype.hasOwnProperty.call(r,n);var r,n}))&&ne("changeField"),t},selector:function(e){re(e)||ne("selectorType")},handler:function(e){re(e)||te(e)||ne("handlerType"),te(e)&&Object.values(e).some((function(e){return!re(e)}))&&ne("handlersType")},initial:function(e){var t;e||ne("initialIsRequired"),te(e)||ne("initialType"),t=e,Object.keys(t).length||ne("initialContent")}};function oe(e,t){return re(t)?t(e.current):t}function ae(e,t){return e.current=Z(Z({},e.current),t),t}function se(e,t,r){return re(t)?t(e.current):Object.keys(r).forEach((function(r){var n;return null===(n=t[r])||void 0===n?void 0:n.call(t,e.current[r])})),r}const ce={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ie.initial(e),ie.handler(t);var r={current:e},n=ee(se)(r,t),i=ee(ae)(r),o=ee(ie.changes)(e),a=ee(oe)(r);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return ie.selector(e),e(r.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(n,i,o,a)(e)}]}};const ue={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};const le=function(e){return{}.toString.call(e).includes("Object")};var fe={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},de=function(e){return function t(){for(var r=this,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return i.length>=e.length?e.apply(this,i):function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.apply(r,[].concat(i,n))}}}((function(e,t){throw new Error(e[t]||e.default)}))(fe),he={config:function(e){return e||de("configIsRequired"),le(e)||de("configType"),e.urls?(console.warn(fe.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const ye=he;const pe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const me=function e(t,r){return Object.keys(r).forEach((function(n){r[n]instanceof Object&&t[n]&&Object.assign(r[n],e(t[n],r[n]))})),Y(Y({},t),r)};var ge={type:"cancelation",msg:"operation is manually canceled"};const be=function(e){var t=!1,r=new Promise((function(r,n){e.then((function(e){return t?n(ge):r(e)})),e.catch(n)}));return r.cancel=function(){return t=!0},r};var ve,Ae,we=ce.create({config:ue,isInitialized:!1,resolve:null,reject:null,monaco:null}),$e=(Ae=2,function(e){if(Array.isArray(e))return e}(ve=we)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(ve,Ae)||function(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}(ve,Ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),je=$e[0],Oe=$e[1];function Me(e){return document.body.appendChild(e)}function xe(e){var t,r,n=je((function(e){return{config:e.config,reject:e.reject}})),i=(t="".concat(n.config.paths.vs,"/loader.js"),r=document.createElement("script"),t&&(r.src=t),r);return i.onload=function(){return e()},i.onerror=n.reject,i}function Se(){var e=je((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){ze(t),e.resolve(t)}),(function(t){e.reject(t)}))}function ze(e){je().monaco||Oe({monaco:e})}var ke=new Promise((function(e,t){return Oe({resolve:e,reject:t})})),Ee={config:function(e){var t=ye.config(e),r=t.monaco,n=G(t,["monaco"]);Oe((function(e){return{config:me(e.config,n),monaco:r}}))},init:function(){var e=je((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(Oe({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),be(ke);if(window.monaco&&window.monaco.editor)return ze(window.monaco),e.resolve(window.monaco),be(ke);pe(Me,xe)(Se)}return be(ke)},__getMonacoInstance:function(){return je((function(e){return e.monaco}))}};const Ie=Ee;var De={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Pe={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var Re=function({children:e}){return n.createElement("div",{style:Pe.container},e)};var _e=function({width:e,height:t,isEditorReady:r,loading:i,_ref:o,className:a,wrapperProps:s}){return n.createElement("section",{style:{...De.wrapper,width:e,height:t},...s},!r&&n.createElement(Re,null,i),n.createElement("div",{ref:o,style:{...De.fullWidth,...!r&&De.hide},className:a}))},Ne=(0,n.memo)(_e);var Fe=function(e){(0,n.useEffect)(e,[])};var Te=function(e,t,r=!0){let i=(0,n.useRef)(!0);(0,n.useEffect)(i.current||!r?()=>{i.current=!1}:e,t)};function Ce(){}function Ue(e,t,r,n){return function(e,t){return e.editor.getModel(Le(e,t))}(e,n)||function(e,t,r,n){return e.editor.createModel(t,r,n?Le(e,n):void 0)}(e,t,r,n)}function Le(e,t){return e.Uri.parse(t)}var Ve=function({original:e,modified:t,language:r,originalLanguage:i,modifiedLanguage:o,originalModelPath:a,modifiedModelPath:s,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:u=!1,theme:l="light",loading:f="Loading...",options:d={},height:h="100%",width:y="100%",className:p,wrapperProps:m={},beforeMount:g=Ce,onMount:b=Ce}){let[v,A]=(0,n.useState)(!1),[w,$]=(0,n.useState)(!0),j=(0,n.useRef)(null),O=(0,n.useRef)(null),M=(0,n.useRef)(null),x=(0,n.useRef)(b),S=(0,n.useRef)(g),z=(0,n.useRef)(!1);Fe((()=>{let e=Ie.init();return e.then((e=>(O.current=e)&&$(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>j.current?function(){let e=j.current?.getModel();c||e?.original?.dispose(),u||e?.modified?.dispose(),j.current?.dispose()}():e.cancel()})),Te((()=>{if(j.current&&O.current){let t=j.current.getOriginalEditor(),n=Ue(O.current,e||"",i||r||"text",a||"");n!==t.getModel()&&t.setModel(n)}}),[a],v),Te((()=>{if(j.current&&O.current){let e=j.current.getModifiedEditor(),n=Ue(O.current,t||"",o||r||"text",s||"");n!==e.getModel()&&e.setModel(n)}}),[s],v),Te((()=>{let e=j.current.getModifiedEditor();e.getOption(O.current.editor.EditorOption.readOnly)?e.setValue(t||""):t!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[t],v),Te((()=>{j.current?.getModel()?.original.setValue(e||"")}),[e],v),Te((()=>{let{original:e,modified:t}=j.current.getModel();O.current.editor.setModelLanguage(e,i||r||"text"),O.current.editor.setModelLanguage(t,o||r||"text")}),[r,i,o],v),Te((()=>{O.current?.editor.setTheme(l)}),[l],v),Te((()=>{j.current?.updateOptions(d)}),[d],v);let k=(0,n.useCallback)((()=>{if(!O.current)return;S.current(O.current);let n=Ue(O.current,e||"",i||r||"text",a||""),c=Ue(O.current,t||"",o||r||"text",s||"");j.current?.setModel({original:n,modified:c})}),[r,t,o,e,i,a,s]),E=(0,n.useCallback)((()=>{!z.current&&M.current&&(j.current=O.current.editor.createDiffEditor(M.current,{automaticLayout:!0,...d}),k(),O.current?.editor.setTheme(l),A(!0),z.current=!0)}),[d,l,k]);return(0,n.useEffect)((()=>{v&&x.current(j.current,O.current)}),[v]),(0,n.useEffect)((()=>{!w&&!v&&E()}),[w,v,E]),n.createElement(Ne,{width:y,height:h,isEditorReady:v,loading:f,_ref:M,className:p,wrapperProps:m})};(0,n.memo)(Ve);var Je=function(e){let t=(0,n.useRef)();return(0,n.useEffect)((()=>{t.current=e}),[e]),t.current},qe=new Map;var We=function({defaultValue:e,defaultLanguage:t,defaultPath:r,value:i,language:o,path:a,theme:s="light",line:c,loading:u="Loading...",options:l={},overrideServices:f={},saveViewState:d=!0,keepCurrentModel:h=!1,width:y="100%",height:p="100%",className:m,wrapperProps:g={},beforeMount:b=Ce,onMount:v=Ce,onChange:A,onValidate:w=Ce}){let[$,j]=(0,n.useState)(!1),[O,M]=(0,n.useState)(!0),x=(0,n.useRef)(null),S=(0,n.useRef)(null),z=(0,n.useRef)(null),k=(0,n.useRef)(v),E=(0,n.useRef)(b),I=(0,n.useRef)(),D=(0,n.useRef)(i),P=Je(a),R=(0,n.useRef)(!1),_=(0,n.useRef)(!1);Fe((()=>{let e=Ie.init();return e.then((e=>(x.current=e)&&M(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>S.current?(I.current?.dispose(),h?d&&qe.set(a,S.current.saveViewState()):S.current.getModel()?.dispose(),void S.current.dispose()):e.cancel()})),Te((()=>{let n=Ue(x.current,e||i||"",t||o||"",a||r||"");n!==S.current?.getModel()&&(d&&qe.set(P,S.current?.saveViewState()),S.current?.setModel(n),d&&S.current?.restoreViewState(qe.get(a)))}),[a],$),Te((()=>{S.current?.updateOptions(l)}),[l],$),Te((()=>{!S.current||void 0===i||(S.current.getOption(x.current.editor.EditorOption.readOnly)?S.current.setValue(i):i!==S.current.getValue()&&(_.current=!0,S.current.executeEdits("",[{range:S.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),S.current.pushUndoStop(),_.current=!1))}),[i],$),Te((()=>{let e=S.current?.getModel();e&&o&&x.current?.editor.setModelLanguage(e,o)}),[o],$),Te((()=>{void 0!==c&&S.current?.revealLine(c)}),[c],$),Te((()=>{x.current?.editor.setTheme(s)}),[s],$);let N=(0,n.useCallback)((()=>{if(z.current&&x.current&&!R.current){E.current(x.current);let n=a||r,u=Ue(x.current,i||e||"",t||o||"",n||"");S.current=x.current?.editor.create(z.current,{model:u,automaticLayout:!0,...l},f),d&&S.current.restoreViewState(qe.get(n)),x.current.editor.setTheme(s),void 0!==c&&S.current.revealLine(c),j(!0),R.current=!0}}),[e,t,r,i,o,a,l,f,d,s,c]);return(0,n.useEffect)((()=>{$&&k.current(S.current,x.current)}),[$]),(0,n.useEffect)((()=>{!O&&!$&&N()}),[O,$,N]),D.current=i,(0,n.useEffect)((()=>{$&&A&&(I.current?.dispose(),I.current=S.current?.onDidChangeModelContent((e=>{_.current||A(S.current.getValue(),e)})))}),[$,A]),(0,n.useEffect)((()=>{if($){let e=x.current.editor.onDidChangeMarkers((e=>{let t=S.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=x.current.editor.getModelMarkers({resource:t});w?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[$,w]),n.createElement(Ne,{width:y,height:p,isEditorReady:$,loading:u,_ref:z,className:m,wrapperProps:g})},Be=(0,n.memo)(We),Ke=r(8193);const Ye=new U;if(Ke.A.canUseDOM){const e=window.ResizeObserver;window.ResizeObserver=function(t){return new e(((e,r)=>{window.requestAnimationFrame((()=>{t(e,r)}))}))};for(let t in e)e.hasOwnProperty(t)&&(window.ResizeObserver[t]=e[t])}function Ge(e){let{defaultLogic:t="",defaultData:r=""}=e;const[i,o]=(0,n.useState)(t),[a,s]=(0,n.useState)(r),[c,u]=(0,n.useState)(""),[l,f]=(n.useRef(null),(0,n.useState)({built:()=>{}}));function d(){u(l.built(a))}return(0,n.useEffect)((()=>{try{f({built:Ye.build(i)})}catch(e){}}),[i]),(0,n.useEffect)((()=>{(c??"").toString()||d()}),[l]),"undefined"!=typeof window?(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(W,{children:()=>(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("b",{children:"Logic:"}),(0,q.jsx)(Be,{options:{minimap:{enabled:!1}},height:"180px",className:"editor",defaultLanguage:"json",defaultValue:JSON.stringify(i,void 0,2),onChange:e=>{try{o(JSON.parse(e))}catch(t){}}}),(0,q.jsx)("br",{}),(0,q.jsx)("b",{children:"Data:"}),(0,q.jsx)(Be,{options:{minimap:{enabled:!1}},className:"editor",height:"140px",defaultLanguage:"json",defaultValue:JSON.stringify(a,void 0,4),onChange:e=>{try{s(JSON.parse(e))}catch(t){}}}),(0,q.jsx)("br",{}),(0,q.jsx)("button",{className:"btn btn-secondary",onClick:d,children:"Execute"})," ",(0,q.jsx)("br",{}),"Output: ",(0,q.jsx)("br",{}),(0,q.jsx)("code",{children:JSON.stringify(c)})]})})}):null}},8453:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>s});var n=r(6540);const i={},o=n.createContext(i);function a(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);